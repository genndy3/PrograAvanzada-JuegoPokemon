@model Juego_de_Pokemon.Models.EnfermeriaViewModel

@{
    ViewData["Title"] = "Enfermería";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="mt-4 rounded-3 border border-1 custom-border" style="background-color: #ffc1d3;">
    <div class="d-flex justify-content-between align-items-center">
        <div class="p-2">
            <h3>¡Bienvenido a la Enfermería!</h3>
            <p>Aquí podrás cuidar y sanar a tus Pokémon después de sus batallas. Nuestro equipo de enfermeros/as está listo para restaurar su energía y salud, ¡para que puedan seguir luchando!</p>
        </div>
        <img src="/images/ash.png" class="img-fluid" style="max-width: 300px; height: auto; margin: 0; padding: 0; object-fit: contain;">
    </div>
</div>

<!-- Tabs -->
<ul class="nav nav-tabs mt-4" id="enfermeriaTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="en-tratamiento-tab" data-bs-toggle="tab" data-bs-target="#en-tratamiento" type="button" role="tab" aria-controls="en-tratamiento" aria-selected="true">
            En Tratamiento
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="disponibles-tab" data-bs-toggle="tab" data-bs-target="#disponibles" type="button" role="tab" aria-controls="disponibles" aria-selected="false">
            Disponibles
        </button>
    </li>
</ul>

<!-- Tab content -->
<div class="tab-content mt-3" id="enfermeriaTabsContent">
    <!-- En Tratamiento -->
    <div class="tab-pane fade show active" id="en-tratamiento" role="tabpanel" aria-labelledby="en-tratamiento-tab">
        <div class="d-flex flex-wrap gap-3">
            @if (Model.PokemonEnTratamiento.Any())
            {
                @foreach (var pokemon in Model.PokemonEnTratamiento)
                {
                    <div class="card" style="width: 150px;">
                        @* <img src="/pokedex/@pokemon.Imagen" class="card-img-top" alt="@pokemon.Nombre"> *@
                        <div class="card-body text-center">
                            <h5 class="card-title">@pokemon.Nombre</h5>
                        </div>
                    </div>
                }
            }
            else
            {
                <p>No hay Pokémon en tratamiento actualmente.</p>
            }
        </div>
    </div>

    <!-- Disponibles -->
    <div class="tab-pane fade" id="disponibles" role="tabpanel" aria-labelledby="disponibles-tab">
        <div class="d-flex flex-wrap gap-3">
            @if (Model.PokemonDisponibles.Any())
            {
                @foreach (var pokemon in Model.PokemonDisponibles)
                {
                    <div class="card" style="width: 150px;">
                        @* <img src="/pokedex/@pokemon.Imagen" class="card-img-top" alt="@pokemon.Nombre"> *@
                        <div class="card-body text-center">
                            <h5 class="card-title">@pokemon.Nombre</h5>
                            <form method="post" asp-action="EnviarATratamiento" asp-route-id="@pokemon.Id">
                                <button class="btn btn-primary btn-sm">Enviar a la enfermería</button>
                            </form>
                        </div>
                    </div>
                }
            }
            else
            {
                <p>No hay Pokémon disponibles actualmente.</p>
            }
        </div>
    </div>
</div>

